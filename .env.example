# YouTube ELT Pipeline Environment Configuration Template
# Copy this file to .env and update with your actual values

# =====================================
# CORE AIRFLOW SETTINGS
# =====================================

# Core Airflow configuration
AIRFLOW__CORE__LOAD_EXAMPLES=False
AIRFLOW__CORE__EXECUTOR=LocalExecutor
AIRFLOW__DATABASE__SQL_ALCHEMY_CONN=postgresql+psycopg2://postgres:password@AIRFLOW_Project_postgres/postgres
AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION=False
AIRFLOW__CORE__MAX_ACTIVE_RUNS_PER_DAG=1
AIRFLOW__CORE__FERNET_KEY=46BKJoQYlPPOexq0OhDZnIlNepKFf87WFwLbfzqDDho=

# =====================================
# AUTHENTICATION & SECURITY
# =====================================

# Airflow admin user credentials (CHANGE THESE!)
AIRFLOW_USERNAME=admin
AIRFLOW_PASSWORD=admin
AIRFLOW_FIRSTNAME=Admin
AIRFLOW_LASTNAME=User
AIRFLOW_EMAIL=admin@example.com

# =====================================
# WEBSERVER CONFIGURATION
# =====================================

# Webserver settings
AIRFLOW__WEBSERVER__BASE_URL=http://localhost:8080
AIRFLOW__WEBSERVER__EXPOSE_CONFIG=False
AIRFLOW__WEBSERVER__SECRET_KEY=your-secret-key-here

# =====================================
# EMAIL & ALERTING (OPTIONAL)
# =====================================

# Email configuration for alerts (configure if needed)
AIRFLOW__EMAIL__EMAIL_BACKEND=airflow.utils.email.send_email_smtp
AIRFLOW__SMTP__SMTP_HOST=smtp.gmail.com
AIRFLOW__SMTP__SMTP_PORT=587
AIRFLOW__SMTP__SMTP_USER=your-email@gmail.com
AIRFLOW__SMTP__SMTP_PASSWORD=your-app-password
AIRFLOW__SMTP__SMTP_MAIL_FROM=your-email@gmail.com

# =====================================
# YOUTUBE API CONFIGURATION
# =====================================

# **REQUIRED** - Get this from Google Cloud Console
# https://console.cloud.google.com/apis/credentials
YOUTUBE_API_KEY=your-youtube-api-key-here

# Target YouTube channel (default: MrBeast)
YOUTUBE_CHANNEL_NAME=MrBeast
YOUTUBE_PLAYLIST_ID=UU_x5XG1OV2P6uZZ5FSM9Ttw

# =====================================
# POSTGRESQL DATABASE
# =====================================

# PostgreSQL connection details
POSTGRES_HOST=AIRFLOW_Project_postgres
POSTGRES_PORT=5432
POSTGRES_DB=postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password
POSTGRES_SCHEMA=public

# Database connection aliases
DB_HOST=${POSTGRES_HOST}
DB_PORT=${POSTGRES_PORT}
DB_NAME=${POSTGRES_DB}
DB_USER=${POSTGRES_USER}
DB_PASSWORD=${POSTGRES_PASSWORD}

# =====================================
# APPLICATION PATHS
# =====================================

# Internal application paths (usually don't need to change)
AIRFLOW_VAR_DATA_PATH=/usr/local/airflow/data
AIRFLOW_VAR_JSON_PATH=/usr/local/airflow/data/json
AIRFLOW_VAR_SCRIPTS_PATH=/usr/local/airflow/include/scripts
AIRFLOW_VAR_SODA_PATH=/usr/local/airflow/include/soda

# =====================================
# PIPELINE CONFIGURATION
# =====================================

# Data retention and processing settings
DATA_RETENTION_DAYS=30
MAX_VIDEOS_PER_RUN=100
API_RATE_LIMIT_DELAY=1

# =====================================
# DEVELOPMENT SETTINGS
# =====================================

# Development and debugging
DEBUG=False
TESTING=False

# Logging level (DEBUG, INFO, WARNING, ERROR)
LOG_LEVEL=INFO

# =====================================
# OPTIONAL INTEGRATIONS
# =====================================

# Slack notifications (configure if needed)
# SLACK_WEBHOOK_URL=https://hooks.slack.com/services/your/slack/webhook

# Monitoring and alerting
# SENTRY_DSN=your-sentry-dsn-here

# =====================================
# DOCKER CONFIGURATION
# =====================================

# Docker-specific settings (usually auto-configured)
COMPOSE_PROJECT_NAME=youtube-elt-pipeline

# =====================================
# ASTRO CLI CONFIGURATION (OPTIONAL)
# =====================================

# Astro environment (if using Astro CLI)
# ASTRO_PROJECT_ID=your-astro-project-id
# ASTRO_WORKSPACE_ID=your-workspace-id

# =====================================
# SETUP INSTRUCTIONS
# =====================================

# 1. Copy this file to .env:
#    cp .env.example .env
#
# 2. Update YOUTUBE_API_KEY with your actual API key
#
# 3. Change default passwords (AIRFLOW_PASSWORD, POSTGRES_PASSWORD)
#
# 4. Configure email settings if you want alerts
#
# 5. Run the deployment script:
#    ./scripts/deploy.sh
#
# 6. Access Airflow at http://localhost:8080